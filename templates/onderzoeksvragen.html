<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onderzoeken</title>
    <link rel="stylesheet" href="../static/css/onderzoeksvragen_overzicht.css"/>
    {% include '_global_imports.html' %}
    <script defer src="../static/js/onderzoeksvragen_popup.js"></script>
</head>
<body>
    <header>
        <nav>
            <!-- Hier komt de nav-bar -->
        </nav>
    </header>

    <main>
        <h1>Onderzoeken</h1>
        <div class="search-container">
            <input type="text" name="search" placeholder="Zoek een trefwoord.." class="search-input">
            <button type="submit" class="search-button">Zoeken</button>
            <button><a style="text-decoration: none " class="add-btn" href="/aanmaken-onderzoeksvraag" >+</a></button>
        </div>

        <table>
            <tr>
                <th>Onderzoek</th>
                <th>Doelgroep</th>
                <th>maximaal aantal deelnemers</th>
            </tr>

            {% for vraag in vragen %}

            <tr class="clickable" data-title="{{ vraag.titel }}" data-info="{{ vraag.beschrijving }}" data-deelnemers="{{ vraag.max_deelnemers }}" data-beschikbaar="{{ vraag.beschikbaar }}" data-id="{{vraag.id}}">
                <td>{{ vraag.titel }}</td>
                <td>{{ vraag.beperking }}</td>
                <td>{{ vraag.max_deelnemers }}</td>
            </tr>
            {% endfor %}
        </table>

        <div class="nav-button">
            <a id="prev">
                <button>Vorige 10</button>
            </a>
            <a id="next">
                <button>Volgende 10</button>
            </a>
        </div>

        <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close">&times;</span>
            <h2 id="popup-titel">Onderzoeksvraag</h2>
            <p class="popup-info-short" id="popup-info">
                <span id="popup-info-text"></span>
                <span class="read-more" id="read-more">Lees meer</span>
                <span class="read-less" id="read-less">Lees minder</span>
            </p>

            <hr>

            <p><strong>maximaal aantal deelnemers: </strong><span id="popup-max_deelnemers">0/10</span></p>
            <p><strong>beschikbare plaatsen: </strong><span id="popup-beschikbaar">0/10</span></p>
            {% if goedkeuren == "1" %}
                <button id="bekijk-aanvragen" aria-label="aanmeldingen bekijken knop" class="popup-button">Bekijk aanmeldingen</button>
            {% else %}
                <button id="cancel" class="popup-button">niet deelnemen</button>
                <button id="join" class="popup-button">deelnemen</button>
            {% endif %}
        </div>
    </div>

    </main>

    <footer>
        <!-- Hier komt de footer thanks-->
    </footer>

</body>
</html>